
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rating" float, "year" integer, "item_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_items_on_name" ON "items" ("name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_items_on_item_type_id" ON "items" ("item_type_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_items_on_year" ON "items" ("year")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_items_on_rating" ON "items" ("rating")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808210552')[0m
Migrating to CreateCreators (20100808211038)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "creators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_creators_on_name" ON "creators" ("name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100808211038')[0m
Migrating to CreateItemCreators (20100808211135)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "item_creators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "creator_id" integer, "creator_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_item_creators_on_item_id" ON "item_creators" ("item_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_item_creators_on_creator_id" ON "item_creators" ("creator_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_item_creators_on_creator_type_id" ON "item_creators" ("creator_type_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808211135')[0m
Migrating to CreateItemKeys (20100808211408)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "item_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "key_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_item_keys_on_item_id" ON "item_keys" ("item_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_item_keys_on_key_id" ON "item_keys" ("key_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808211408')[0m
Migrating to CreateKeyTypes (20100808211518)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "key_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "item_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_key_types_on_item_type_id" ON "key_types" ("item_type_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100808211518')[0m
Migrating to CreateCreatorTypes (20100808211719)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "creator_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "item_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_creator_types_on_item_type_id" ON "creator_types" ("item_type_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808211719')[0m
Migrating to CreateItemTypes (20100808212220)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "item_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808212220')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creator_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_creators_on_name')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("item_creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("item_keys")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("item_types")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("items")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_info('index_items_on_rating')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_year')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("key_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;36;1mItemType Create (0.4ms)[0m   [0;1mINSERT INTO "item_types" ("name", "created_at", "updated_at") VALUES('test', '2010-08-08 21:44:48', '2010-08-08 21:44:48')[0m


Processing ItemTypesController#index (for 127.0.0.1 at 2010-08-08 17:57:01) [GET]
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" [0m
Rendering item_types/index
Completed in 23ms (View: 18, DB: 1) | 200 OK [http://localhost/item_types]


Processing ItemTypesController#index (for 127.0.0.1 at 2010-08-08 17:57:44) [GET]
  [4;35;1mItemType Load (0.7ms)[0m   [0mSELECT * FROM "item_types" [0m
Rendering item_types/index
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://localhost/item_types]


Processing ItemTypesController#new (for 127.0.0.1 at 2010-08-08 17:57:47) [GET]
Rendering item_types/action
Completed in 16ms (View: 11, DB: 0) | 200 OK [http://localhost/item_types/new]


Processing ItemTypesController#new (for 127.0.0.1 at 2010-08-08 18:03:43) [GET]
Rendering item_types/action
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/item_types/new]


Processing ItemTypesController#create (for 127.0.0.1 at 2010-08-08 18:04:00) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"X25oBo3walJ5Pn3QbQDN6gCcESplNPTm5dfWM1r+YVA=", "item_type"=>{"name"=>"Graphic Novel"}}
  [4;36;1mItemType Create (0.4ms)[0m   [0;1mINSERT INTO "item_types" ("name", "created_at", "updated_at") VALUES('Graphic Novel', '2010-08-08 22:04:00', '2010-08-08 22:04:00')[0m
Redirected to http://localhost:3000/item_types
Completed in 8ms (DB: 0) | 302 Found [http://localhost/item_types]


Processing ItemTypesController#index (for 127.0.0.1 at 2010-08-08 18:04:00) [GET]
  [4;35;1mItemType Load (0.7ms)[0m   [0mSELECT * FROM "item_types" [0m
Rendering item_types/index
Completed in 7ms (View: 3, DB: 1) | 200 OK [http://localhost/item_types]


Processing ItemTypesController#new (for 127.0.0.1 at 2010-08-08 18:04:03) [GET]
Rendering item_types/action
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/item_types/new]


Processing ItemTypesController#create (for 127.0.0.1 at 2010-08-08 18:04:12) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"X25oBo3walJ5Pn3QbQDN6gCcESplNPTm5dfWM1r+YVA=", "item_type"=>{"name"=>"Music"}}
  [4;36;1mItemType Create (0.3ms)[0m   [0;1mINSERT INTO "item_types" ("name", "created_at", "updated_at") VALUES('Music', '2010-08-08 22:04:12', '2010-08-08 22:04:12')[0m
Redirected to http://localhost:3000/item_types
Completed in 8ms (DB: 0) | 302 Found [http://localhost/item_types]


Processing ItemTypesController#index (for 127.0.0.1 at 2010-08-08 18:04:12) [GET]
  [4;35;1mItemType Load (0.7ms)[0m   [0mSELECT * FROM "item_types" [0m
Rendering item_types/index
Completed in 8ms (View: 3, DB: 1) | 200 OK [http://localhost/item_types]


Processing ItemTypesController#new (for 127.0.0.1 at 2010-08-08 18:04:14) [GET]
Rendering item_types/action
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/item_types/new]


Processing ItemTypesController#create (for 127.0.0.1 at 2010-08-08 18:04:19) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"X25oBo3walJ5Pn3QbQDN6gCcESplNPTm5dfWM1r+YVA=", "item_type"=>{"name"=>"Video"}}
  [4;36;1mItemType Create (0.3ms)[0m   [0;1mINSERT INTO "item_types" ("name", "created_at", "updated_at") VALUES('Video', '2010-08-08 22:04:19', '2010-08-08 22:04:19')[0m
Redirected to http://localhost:3000/item_types
Completed in 8ms (DB: 0) | 302 Found [http://localhost/item_types]


Processing ItemTypesController#index (for 127.0.0.1 at 2010-08-08 18:04:19) [GET]
  [4;35;1mItemType Load (0.8ms)[0m   [0mSELECT * FROM "item_types" [0m
Rendering item_types/index
Completed in 7ms (View: 3, DB: 1) | 200 OK [http://localhost/item_types]


Processing ApplicationController#edit (for 127.0.0.1 at 2010-08-08 18:12:01) [GET]
  Parameters: {"id"=>"1"}

SyntaxError (/Users/jinx/projects/collection/app/controllers/item_types_controller.rb:28: syntax error, unexpected tIDENTIFIER, expecting ']'
      flash[:notice] = "#{@item_type.name} has been saved"
           ^):
  

Rendered rescues/_trace (41.5ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing ItemTypesController#edit (for 127.0.0.1 at 2010-08-08 18:12:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.2ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."id" = 1) ORDER BY name[0m
Rendering item_types/action
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/item_types/1/edit]


Processing ItemTypesController#update (for 127.0.0.1 at 2010-08-08 18:12:33) [PUT]
  Parameters: {"commit"=>"Save Changes", "authenticity_token"=>"X25oBo3walJ5Pn3QbQDN6gCcESplNPTm5dfWM1r+YVA=", "id"=>"1", "item_type"=>{"name"=>"video game"}}
  [4;35;1mItemType Load (0.2ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."id" = 1) ORDER BY name[0m
  [4;36;1mItemType Update (0.3ms)[0m   [0;1mUPDATE "item_types" SET "updated_at" = '2010-08-08 22:12:33', "name" = 'video game' WHERE "id" = 1[0m
Redirected to http://localhost:3000/item_types
Completed in 9ms (DB: 1) | 302 Found [http://localhost/item_types/1]


Processing ItemTypesController#index (for 127.0.0.1 at 2010-08-08 18:12:33) [GET]
  [4;35;1mItemType Load (0.8ms)[0m   [0mSELECT * FROM "item_types" ORDER BY name[0m
Rendering item_types/index
Completed in 8ms (View: 3, DB: 1) | 200 OK [http://localhost/item_types]


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-08-08 18:38:36) [GET]
  [4;36;1mCreatorType Load (0.7ms)[0m   [0;1mSELECT * FROM "creator_types" [0m
Rendering creator_types/index
Completed in 20ms (View: 16, DB: 1) | 200 OK [http://localhost/creator_types]


Processing CreatorTypesController#new (for 127.0.0.1 at 2010-08-08 18:38:39) [GET]
  [4;35;1mItemType Load (0.4ms)[0m   [0mSELECT * FROM "item_types" ORDER BY name[0m
Rendering creator_types/action
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/creator_types/new]


Processing CreatorTypesController#new (for 127.0.0.1 at 2010-08-08 18:41:45) [GET]
  [4;36;1mItemType Load (0.4ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
Rendering creator_types/action
ERROR: compiling _run_erb_app47views47creator_types47action46html46erb RAISED compile error
/Users/jinx/projects/collection/app/views/creator_types/action.html.erb:8: syntax error, unexpected '}', expecting tCOLON2 or '[' or '.'
...tem_type.name, item_type.name} ).to_s); @output_buffer.conca...
                              ^
/Users/jinx/projects/collection/app/views/creator_types/action.html.erb:11: syntax error, unexpected kEND, expecting '}'
;  end ; @output_buffer
      ^
/Users/jinx/projects/collection/app/views/creator_types/action.html.erb:14: syntax error, unexpected kEND, expecting '}'
Function body:           def _run_erb_app47views47creator_types47action46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat(( crud_header @creator_type ).to_s); @output_buffer.concat "\n\n"

;  form_for @creator_type do |form| ; @output_buffer.concat "\n\t<dl>\n\t\t<dd>"

; @output_buffer.concat(( form.label :creator_type, :name ).to_s); @output_buffer.concat "</dd>\n\t\t<dt>"
; @output_buffer.concat(( form.text_field :name ).to_s); @output_buffer.concat "</dt>\n\t\t<dd>"
; @output_buffer.concat(( form.label :creator_type, :item_type_id).to_s); @output_buffer.concat "</dd>\n\t\t<dt>"
; @output_buffer.concat(( form.select :item_type_id, @item_types.map {|item_type| item_type.name, item_type.name} ).to_s); @output_buffer.concat "</dt>\n\t</dl>\n\t"

; @output_buffer.concat(( crud_submit(@creator_type) ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/jinx/projects/collection/app/views/creator_types/action.html.erb:14:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/jinx/projects/collection/app/controllers/creator_types_controller.rb:6:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/jinx/projects/collection/app/views/creator_types/action.html.erb:8: syntax error, unexpected '}', expecting tCOLON2 or '[' or '.'
...tem_type.name, item_type.name} ).to_s); @output_buffer.conca...
                              ^
/Users/jinx/projects/collection/app/views/creator_types/action.html.erb:11: syntax error, unexpected kEND, expecting '}'
;  end ; @output_buffer
      ^
/Users/jinx/projects/collection/app/views/creator_types/action.html.erb:14: syntax error, unexpected kEND, expecting '}') on line #8 of app/views/creator_types/action.html.erb:
5: 		<dd><%= form.label :creator_type, :name %></dd>
6: 		<dt><%= form.text_field :name %></dt>
7: 		<dd><%= form.label :creator_type, :item_type_id%></dd>
8: 		<dt><%= form.select :item_type_id, @item_types.map {|item_type| item_type.name, item_type.name} %></dt>
9: 	</dl>
10: 	<%= crud_submit(@creator_type) %>
11: <% end %>

    app/views/creator_types/action.html.erb:14:in `compile!'
    app/controllers/creator_types_controller.rb:6:in `new'

Rendered rescues/_trace (52.7ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)


Processing CreatorTypesController#new (for 127.0.0.1 at 2010-08-08 18:42:37) [GET]
  [4;35;1mItemType Load (0.4ms)[0m   [0mSELECT * FROM "item_types" ORDER BY name[0m
Rendering creator_types/action
Completed in 17ms (View: 10, DB: 0) | 200 OK [http://localhost/creator_types/new]


Processing CreatorTypesController#create (for 127.0.0.1 at 2010-08-08 18:42:48) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"X25oBo3walJ5Pn3QbQDN6gCcESplNPTm5dfWM1r+YVA=", "creator_type"=>{"name"=>"illustrator", "item_type_id"=>"2"}}
  [4;36;1mCreatorType Create (0.6ms)[0m   [0;1mINSERT INTO "creator_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('illustrator', '2010-08-08 22:42:48', '2010-08-08 22:42:48', 2)[0m
Redirected to http://localhost:3000/creator_types
Completed in 9ms (DB: 1) | 302 Found [http://localhost/creator_types]


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-08-08 18:42:48) [GET]
  [4;35;1mCreatorType Load (55.5ms)[0m   [0mSELECT * FROM "creator_types" [0m
Rendering creator_types/index
Completed in 62ms (View: 3, DB: 55) | 200 OK [http://localhost/creator_types]


Processing CreatorTypesController#edit (for 127.0.0.1 at 2010-08-08 18:42:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."id" = 1) [0m
Rendering creator_types/action

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #8 of app/views/creator_types/action.html.erb:
5: 		<dd><%= form.label :creator_type, :name %></dd>
6: 		<dt><%= form.text_field :name %></dt>
7: 		<dd><%= form.label :creator_type, :item_type_id%></dd>
8: 		<dt><%= form.select :item_type_id, @item_types.map {|item_type| [item_type.name, item_type.id]} %></dt>
9: 	</dl>
10: 	<%= crud_submit(@creator_type) %>
11: <% end %>

    app/views/creator_types/action.html.erb:8
    app/views/creator_types/action.html.erb:3
    app/controllers/creator_types_controller.rb:22:in `edit'

Rendered rescues/_trace (54.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CreatorTypesController#edit (for 127.0.0.1 at 2010-08-08 18:43:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."id" = 1) [0m
  [4;36;1mItemType Load (0.4ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
Rendering creator_types/action
Completed in 70ms (View: 62, DB: 1) | 200 OK [http://localhost/creator_types/1/edit]


Processing CreatorTypesController#new (for 127.0.0.1 at 2010-08-08 18:43:31) [GET]
  [4;35;1mItemType Load (0.4ms)[0m   [0mSELECT * FROM "item_types" ORDER BY name[0m
Rendering creator_types/action
Completed in 14ms (View: 7, DB: 0) | 200 OK [http://localhost/creator_types/new]


Processing CreatorTypesController#create (for 127.0.0.1 at 2010-08-08 18:43:44) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"X25oBo3walJ5Pn3QbQDN6gCcESplNPTm5dfWM1r+YVA=", "creator_type"=>{"name"=>"director", "item_type_id"=>"4"}}
  [4;36;1mCreatorType Create (0.4ms)[0m   [0;1mINSERT INTO "creator_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('director', '2010-08-08 22:43:44', '2010-08-08 22:43:44', 4)[0m
Redirected to http://localhost:3000/creator_types
Completed in 9ms (DB: 0) | 302 Found [http://localhost/creator_types]


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-08-08 18:43:44) [GET]
  [4;35;1mCreatorType Load (0.7ms)[0m   [0mSELECT * FROM "creator_types" [0m
Rendering creator_types/index
Completed in 7ms (View: 3, DB: 1) | 200 OK [http://localhost/creator_types]


Processing CreatorTypesController#edit (for 127.0.0.1 at 2010-08-08 18:43:45) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."id" = 2) [0m
  [4;35;1mItemType Load (0.6ms)[0m   [0mSELECT * FROM "item_types" ORDER BY name[0m
Rendering creator_types/action
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://localhost/creator_types/2/edit]


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 19:48:06) [GET]

ActionController::UnknownAction (No action responded to index. Actions: ):
  

Rendering rescues/layout (not_found)


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 19:50:22) [GET]
Rendering items/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 19:58:01) [GET]
Rendering template within layouts/application
Rendering items/index

ActionView::TemplateError (Missing layout layouts/_navigation.erb in view path app/views) on line #19 of app/views/layouts/application.html.erb:
16: </head>
17: <body <%= "id=\"#{@custom_body_id}\"" unless @custom_body_id.nil? %>>
18:   
19: <%= render :partial => 'layouts/navigation' %>
20: <%= yield %>
21:   
22: </body>

    app/views/layouts/application.html.erb:19

Rendered rescues/_trace (58.7ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 19:58:24) [GET]
Rendering template within layouts/application
Rendering items/index
Rendered layouts/_navigation (0.8ms)
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:58:24) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 19:58:28) [GET]
Rendering template within layouts/application
Rendering items/index
Rendered layouts/_navigation (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/items]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:58:28) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-09-01 19:58:29) [GET]
  [4;36;1mCreatorType Load (0.8ms)[0m   [0;1mSELECT * FROM "creator_types" [0m
Rendering template within layouts/application
Rendering creator_types/index
Rendered layouts/_navigation (0.2ms)
Completed in 15ms (View: 10, DB: 1) | 200 OK [http://localhost/creator_types]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:58:29) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ItemTypesController#index (for 127.0.0.1 at 2010-09-01 19:58:32) [GET]
  [4;35;1mItemType Load (0.8ms)[0m   [0mSELECT * FROM "item_types" ORDER BY name[0m
Rendering template within layouts/application
Rendering item_types/index
Rendered layouts/_navigation (0.3ms)
Completed in 15ms (View: 10, DB: 1) | 200 OK [http://localhost/item_types]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:58:32) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-09-01 19:58:36) [GET]
  [4;36;1mCreatorType Load (0.8ms)[0m   [0;1mSELECT * FROM "creator_types" [0m
Rendering template within layouts/application
Rendering creator_types/index
Rendered layouts/_navigation (0.3ms)
Completed in 9ms (View: 4, DB: 1) | 200 OK [http://localhost/creator_types]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:58:36) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#edit (for 127.0.0.1 at 2010-09-01 19:58:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."id" = 1) [0m
  [4;36;1mItemType Load (0.4ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
Rendering template within layouts/application
Rendering creator_types/action
Rendered layouts/_navigation (0.3ms)
Completed in 26ms (View: 18, DB: 1) | 200 OK [http://localhost/creator_types/1/edit]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:58:50) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-09-01 19:59:39) [GET]
  [4;35;1mCreatorType Load (0.7ms)[0m   [0mSELECT * FROM "creator_types" [0m
Rendering template within layouts/application
Rendering creator_types/index
Rendered layouts/_navigation (0.3ms)
Completed in 12ms (View: 8, DB: 1) | 200 OK [http://localhost/creator_types]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:59:39) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#new (for 127.0.0.1 at 2010-09-01 19:59:45) [GET]
  [4;36;1mItemType Load (0.4ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
Rendering template within layouts/application
Rendering creator_types/action
Rendered layouts/_navigation (0.3ms)
Completed in 15ms (View: 8, DB: 0) | 200 OK [http://localhost/creator_types/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:59:45) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#create (for 127.0.0.1 at 2010-09-01 19:59:55) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"v1rui2M/GASqjGxYrt0tsrV49FSWAHd4FzhaPni46j0=", "creator_type"=>{"name"=>"write", "item_type_id"=>"2"}}
  [4;35;1mCreatorType Create (0.5ms)[0m   [0mINSERT INTO "creator_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('write', '2010-09-01 23:59:55', '2010-09-01 23:59:55', 2)[0m
Redirected to http://localhost:3000/creator_types
Completed in 60ms (DB: 0) | 302 Found [http://localhost/creator_types]


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-09-01 19:59:56) [GET]
  [4;36;1mCreatorType Load (0.8ms)[0m   [0;1mSELECT * FROM "creator_types" [0m
Rendering template within layouts/application
Rendering creator_types/index
Rendered layouts/_navigation (0.2ms)
Completed in 9ms (View: 4, DB: 1) | 200 OK [http://localhost/creator_types]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:59:56) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#edit (for 127.0.0.1 at 2010-09-01 19:59:57) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."id" = 3) [0m
  [4;36;1mItemType Load (0.4ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
Rendering template within layouts/application
Rendering creator_types/action
Rendered layouts/_navigation (0.3ms)
Completed in 16ms (View: 9, DB: 1) | 200 OK [http://localhost/creator_types/3/edit]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:59:57) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#update (for 127.0.0.1 at 2010-09-01 19:59:59) [PUT]
  Parameters: {"commit"=>"Save Changes", "authenticity_token"=>"v1rui2M/GASqjGxYrt0tsrV49FSWAHd4FzhaPni46j0=", "id"=>"3", "creator_type"=>{"name"=>"writer", "item_type_id"=>"2"}}
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."id" = 3) [0m
  [4;36;1mCreatorType Update (0.3ms)[0m   [0;1mUPDATE "creator_types" SET "updated_at" = '2010-09-01 23:59:59', "name" = 'writer' WHERE "id" = 3[0m
Redirected to http://localhost:3000/creator_types
Completed in 9ms (DB: 1) | 302 Found [http://localhost/creator_types/3]


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-09-01 19:59:59) [GET]
  [4;35;1mCreatorType Load (0.8ms)[0m   [0mSELECT * FROM "creator_types" [0m
Rendering template within layouts/application
Rendering creator_types/index
Rendered layouts/_navigation (0.2ms)
Completed in 9ms (View: 4, DB: 1) | 200 OK [http://localhost/creator_types]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 19:59:59) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#new (for 127.0.0.1 at 2010-09-01 20:00:06) [GET]
  [4;36;1mItemType Load (0.4ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
Rendering template within layouts/application
Rendering creator_types/action
Rendered layouts/_navigation (0.3ms)
Completed in 15ms (View: 8, DB: 0) | 200 OK [http://localhost/creator_types/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 20:00:06) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#create (for 127.0.0.1 at 2010-09-01 20:00:11) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"v1rui2M/GASqjGxYrt0tsrV49FSWAHd4FzhaPni46j0=", "creator_type"=>{"name"=>"artist", "item_type_id"=>"2"}}
  [4;35;1mCreatorType Create (0.4ms)[0m   [0mINSERT INTO "creator_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('artist', '2010-09-02 00:00:11', '2010-09-02 00:00:11', 2)[0m
Redirected to http://localhost:3000/creator_types
Completed in 9ms (DB: 0) | 302 Found [http://localhost/creator_types]


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-09-01 20:00:11) [GET]
  [4;36;1mCreatorType Load (0.8ms)[0m   [0;1mSELECT * FROM "creator_types" [0m
Rendering template within layouts/application
Rendering creator_types/index
Rendered layouts/_navigation (0.2ms)
Completed in 9ms (View: 4, DB: 1) | 200 OK [http://localhost/creator_types]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 20:00:11) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CreatorTypesController#index (for 127.0.0.1 at 2010-09-01 20:06:53) [GET]
  [4;35;1mCreatorType Load (0.8ms)[0m   [0mSELECT * FROM "creator_types" [0m
Rendering template within layouts/application
Rendering creator_types/index
Rendered layouts/_navigation (0.8ms)
Completed in 13ms (View: 8, DB: 1) | 200 OK [http://localhost/creator_types]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 20:06:53) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ItemTypesController#index (for 127.0.0.1 at 2010-09-01 20:06:55) [GET]
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
Rendering template within layouts/application
Rendering item_types/index
Rendered layouts/_navigation (0.3ms)
Completed in 12ms (View: 8, DB: 1) | 200 OK [http://localhost/item_types]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 20:06:55) [GET]

ActionController::RoutingError (No route matches "/stylesheets/collection.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing ItemTypesController#edit (for 127.0.0.1 at 2010-09-01 21:07:15) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mItemType Load (0.2ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."id" = 2) ORDER BY name[0m
Rendering template within layouts/application
Rendering item_types/action
Rendered layouts/_navigation (0.3ms)
Completed in 23ms (View: 11, DB: 0) | 200 OK [http://localhost/item_types/2/edit]


Processing ItemTypesController#edit (for 127.0.0.1 at 2010-09-01 21:07:47) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mItemType Load (0.2ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."id" = 2) ORDER BY name[0m
Rendering template within layouts/application
Rendering item_types/action
Rendered layouts/_navigation (0.3ms)
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/item_types/2/edit]


Processing ItemTypesController#edit (for 127.0.0.1 at 2010-09-01 21:07:49) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mItemType Load (0.2ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."id" = 2) ORDER BY name[0m
Rendering template within layouts/application
Rendering item_types/action
Rendered layouts/_navigation (0.3ms)
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/item_types/2/edit]


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 21:15:29) [GET]
Rendering template within layouts/application
Rendering items/index
Rendered layouts/_navigation (0.3ms)
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/items]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
Migrating to CreateItemTypes (20100808212220)
Migrating to MakeKeyTypes (20100902011221)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mKeyType Create (0.4ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('isrc', '2010-09-02 01:17:25', '2010-09-02 01:17:25', NULL)[0m
  [4;36;1mKeyType Create (0.1ms)[0m   [0;1mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('upc', '2010-09-02 01:17:25', '2010-09-02 01:17:25', NULL)[0m
  [4;35;1mKeyType Create (0.1ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('gpid', '2010-09-02 01:17:25', '2010-09-02 01:17:25', NULL)[0m
  [4;36;1mKeyType Create (0.1ms)[0m   [0;1mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('asin', '2010-09-02 01:17:25', '2010-09-02 01:17:25', NULL)[0m
  [4;35;1mKeyType Create (0.1ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('isbn', '2010-09-02 01:17:25', '2010-09-02 01:17:25', NULL)[0m
  [4;36;1mKeyType Create (0.1ms)[0m   [0;1mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('isbn-13', '2010-09-02 01:17:25', '2010-09-02 01:17:25', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100902011221')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creator_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_creators_on_name')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("item_creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("item_keys")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("item_types")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("items")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_rating')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_year')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("key_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_key_types_on_item_type_id')[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 21:26:45) [GET]

NameError (undefined local variable or method `item_type_list' for ItemsController:Class):
  app/controllers/items_controller.rb:49

Rendered rescues/_trace (90.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 21:27:14) [GET]

NameError (undefined local variable or method `item_types_list' for ItemsController:Class):
  app/controllers/items_controller.rb:49

Rendered rescues/_trace (39.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 21:27:47) [GET]

NameError (undefined local variable or method `item_types_list' for ItemsController:Class):
  app/controllers/items_controller.rb:49

Rendered rescues/_trace (95.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 21:29:20) [GET]
  [4;36;1mItem Load (0.6ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name[0m
Rendering template within layouts/application
Rendering items/index
Rendered layouts/_navigation (0.3ms)
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/items]


Processing ItemsController#new (for 127.0.0.1 at 2010-09-01 21:29:23) [GET]
  [4;35;1mItemType Load (0.9ms)[0m   [0mSELECT * FROM "item_types" ORDER BY name[0m
  [4;36;1mCreatorType Load (0.4ms)[0m   [0;1mSELECT * FROM "creator_types" [0m
  [4;35;1mKeyType Load (0.6ms)[0m   [0mSELECT * FROM "key_types" ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #1 of app/views/items/action.html.erb:
1: <%= crud_header @item_type %>
2: 
3: <% form_for @item_type do |form| %>
4: 	<dl>

    app/helpers/application_helper.rb:4:in `crud_header'
    app/views/items/action.html.erb:1
    app/controllers/items_controller.rb:6:in `new'

Rendered rescues/_trace (116.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#new (for 127.0.0.1 at 2010-09-01 21:30:06) [GET]
  [4;36;1mItemType Load (0.9ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 33ms (View: 10, DB: 2) | 200 OK [http://localhost/items/new]
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mCreatorType Load (0.6ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mCreator Create (0.5ms)[0m   [0mINSERT INTO "creators" ("name", "created_at", "updated_at") VALUES('Brian Micheal Bendis', '2010-09-02 01:34:38', '2010-09-02 01:34:38')[0m
  [4;36;1mItem Create (0.5ms)[0m   [0;1mINSERT INTO "items" ("name", "rating", "created_at", "updated_at", "year", "item_type_id") VALUES('Powers: Who Killed Retro Girl', NULL, '2010-09-02 01:35:54', '2010-09-02 01:35:54', NULL, NULL)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mItemType Load (0.6ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mItemCreator Create (0.6ms)[0m   [0mINSERT INTO "item_creators" ("created_at", "updated_at", "creator_type_id", "creator_id", "item_id") VALUES('2010-09-02 01:37:34', '2010-09-02 01:37:34', 3, 1, 1)[0m
  [4;36;1mItem Update (0.5ms)[0m   [0;1mUPDATE "items" SET "updated_at" = '2010-09-02 01:37:59', "item_type_id" = 2, "rating" = 5.0 WHERE "id" = 1[0m
  [4;35;1mItemCreator Create (0.3ms)[0m   [0mINSERT INTO "item_creators" ("created_at", "updated_at", "creator_type_id", "creator_id", "item_id") VALUES('2010-09-02 01:37:59', '2010-09-02 01:37:59', NULL, NULL, 1)[0m


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 21:38:07) [GET]
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" ORDER BY name[0m
Rendering template within layouts/application
Rendering items/index
  [4;36;1mItemType Load (0.4ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."id" = 2) ORDER BY name[0m
Rendered layouts/_navigation (0.3ms)
Completed in 80ms (View: 73, DB: 1) | 200 OK [http://localhost/items]


Processing ItemTypesController#edit (for 127.0.0.1 at 2010-09-01 21:38:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mItemType Load (0.2ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering item_types/action
Rendered layouts/_navigation (0.3ms)
Completed in 16ms (View: 11, DB: 0) | 200 OK [http://localhost/item_types/1/edit]


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 21:38:41) [GET]
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name[0m
Rendering template within layouts/application
Rendering items/index
  [4;35;1mItemType Load (0.2ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."id" = 2) ORDER BY name[0m
Rendered layouts/_navigation (0.3ms)
Completed in 17ms (View: 10, DB: 1) | 200 OK [http://localhost/items]


Processing ItemsController#index (for 127.0.0.1 at 2010-09-01 21:39:51) [GET]
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name[0m
Rendering template within layouts/application
Rendering items/index
  [4;35;1mItemType Load (0.2ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."id" = 2) ORDER BY name[0m
Rendered layouts/_navigation (0.3ms)
Completed in 19ms (View: 11, DB: 1) | 200 OK [http://localhost/items]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:39:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 94ms (View: 12, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:41:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.5ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 30ms (View: 7, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:42:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 30ms (View: 8, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:42:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.5ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 93ms (View: 8, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:42:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.9ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.5ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 31ms (View: 8, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:42:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.9ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 30ms (View: 7, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:43:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.5ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.7ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 37ms (View: 8, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:46:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 34ms (View: 11, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:46:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 89ms (View: 9, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:47:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 31ms (View: 7, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:47:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 30ms (View: 7, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:48:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.5ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 93ms (View: 8, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:59:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (1.4ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
ERROR: compiling _run_erb_app47views47items47action46html46erb RAISED compile error
/Users/jinx/projects/collection/app/views/items/action.html.erb:13: syntax error, unexpected tIVAR, expecting tASSOC
...em_creator", :collection @item.item_creators ).to_s); @outpu...
                              ^
Function body:           def _run_erb_app47views47items47action46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat(( crud_header @item ).to_s); @output_buffer.concat "\n\n"

;  form_for @item do |form| ; @output_buffer.concat "\n\t<dl>\n\t\t<dt>"

; @output_buffer.concat(( form.label :item, :name ).to_s); @output_buffer.concat "</dt>\n\t\t<dd>"
; @output_buffer.concat(( form.text_field :name ).to_s); @output_buffer.concat "</dd>\n\t\t<dt>"
; @output_buffer.concat(( form.label :item, :rating ).to_s); @output_buffer.concat "</dt>\n\t\t<dd>"
; @output_buffer.concat(( form.text_field :rating ).to_s); @output_buffer.concat "</dd>\n\t\t\n\t\t<fieldset>\n\t\t\t<legend>Creator(s)</legend>\n\t\t\t"



;  fields_for @item.item_creators do |item_creator_form| ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( render :partial=>"item_creator", :collection @item.item_creators ).to_s); @output_buffer.concat "\n\t\t\t"
;  end ; @output_buffer.concat "\n\t\t</fieldset>\n\t</dl>\n\t"


; @output_buffer.concat(( crud_submit(@item) ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/jinx/projects/collection/app/views/items/action.html.erb:21:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/jinx/projects/collection/app/controllers/items_controller.rb:22:in `edit'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/jinx/projects/collection/app/views/items/action.html.erb:13: syntax error, unexpected tIVAR, expecting tASSOC
...em_creator", :collection @item.item_creators ).to_s); @outpu...
                              ^) on line #13 of app/views/items/action.html.erb:
10: 		<fieldset>
11: 			<legend>Creator(s)</legend>
12: 			<% fields_for @item.item_creators do |item_creator_form| %>
13: 				<%= render :partial=>"item_creator", :collection @item.item_creators %>
14: 			<% end %>
15: 		</fieldset>
16: 	</dl>

    app/views/items/action.html.erb:21:in `compile!'
    app/controllers/items_controller.rb:22:in `edit'

Rendered rescues/_trace (110.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 21:59:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
  [4;36;1mItemCreator Load (0.4ms)[0m   [0;1mSELECT * FROM "item_creators" WHERE ("item_creators".item_id = 1) [0m

ActionView::TemplateError (undefined local variable or method `item_creator_form' for #<ActionView::Base:0x10440e278>) on line #3 of app/views/items/_item_creator.html.erb:
1: <tr>
2: 	<td>artist</td>
3: 	<td><%= item_creator_form.select :creator_type_id, @creator_types %></td>
4: 	<td><%= item_creator_form.checkbox :destroy unless item_creator.new_record? %>
5: </tr>
6: 	

    app/views/items/_item_creator.html.erb:3
    app/views/items/action.html.erb:13
    app/views/items/action.html.erb:12
    app/views/items/action.html.erb:3
    app/controllers/items_controller.rb:22:in `edit'

Rendered rescues/_trace (132.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:00:04) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mItemType Load (0.8ms)[0m   [0mSELECT * FROM "item_types" ORDER BY name[0m
  [4;36;1mCreatorType Load (0.4ms)[0m   [0;1mSELECT * FROM "creator_types" [0m
  [4;35;1mKeyType Load (0.5ms)[0m   [0mSELECT * FROM "key_types" ORDER BY name[0m
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
  [4;35;1mItemCreator Load (0.4ms)[0m   [0mSELECT * FROM "item_creators" WHERE ("item_creators".item_id = 1) [0m

ActionView::TemplateError (Symbol as array index) on line #13 of app/views/items/action.html.erb:
10: 		<fieldset>
11: 			<legend>Creator(s)</legend>
12: 			<% fields_for @item.item_creators do |item_creator_form| %>
13: 				<%= render :partial=>"item_creator", :collection=>@item.item_creators, :locals=>[item_creator_form] %>
14: 			<% end %>
15: 		</fieldset>
16: 	</dl>

    app/views/items/action.html.erb:13
    app/views/items/action.html.erb:12
    app/views/items/action.html.erb:3
    app/controllers/items_controller.rb:22:in `edit'

Rendered rescues/_trace (62.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:02:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
  [4;36;1mItemCreator Load (0.4ms)[0m   [0;1mSELECT * FROM "item_creators" WHERE ("item_creators".item_id = 1) [0m

ActionView::TemplateError (undefined method `creator_type_id' for #<Array:0x1044abaf0>) on line #3 of app/views/items/_item_creator.html.erb:
1: <tr>
2: 	<td>artist</td>
3: 	<td><%= item_creator_form.select :creator_type_id, @creator_types %></td>
4: 	<td><%= item_creator_form.checkbox :destroy unless item_creator.new_record? %>
5: </tr>
6: 	

    app/views/items/_item_creator.html.erb:3
    app/views/items/action.html.erb:13
    app/views/items/action.html.erb:12
    app/views/items/action.html.erb:3
    app/controllers/items_controller.rb:22:in `edit'

Rendered rescues/_trace (142.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:04:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mItemType Load (0.8ms)[0m   [0mSELECT * FROM "item_types" ORDER BY name[0m
  [4;36;1mCreatorType Load (0.5ms)[0m   [0;1mSELECT * FROM "creator_types" [0m
  [4;35;1mKeyType Load (0.6ms)[0m   [0mSELECT * FROM "key_types" ORDER BY name[0m
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
  [4;35;1mItemCreator Load (0.4ms)[0m   [0mSELECT * FROM "item_creators" WHERE ("item_creators".item_id = 1) [0m

ActionView::TemplateError (undefined method `creator_type_id' for #<Array:0x1043b2c20>) on line #16 of app/views/items/action.html.erb:
13: 			<% fields_for @item.item_creators do |item_creator_form| %>
14: 				<tr>
15: 					<td>artist</td>
16: 					<td><%= item_creator_form.select :creator_type_id, @creator_types %></td>
17: 					<td><%= item_creator_form.checkbox :destroy unless item_creator.new_record? %>
18: 				</tr>
19: 				

    app/views/items/action.html.erb:16
    app/views/items/action.html.erb:13
    app/views/items/action.html.erb:3
    app/controllers/items_controller.rb:22:in `edit'

Rendered rescues/_trace (122.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:15:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.9ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.5ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action

ActionView::TemplateError (undefined local variable or method `item_creator' for #<ActionView::Base:0x1043b85f8>) on line #17 of app/views/items/action.html.erb:
14: 				<tr>
15: 					<td>artist</td>
16: 					<td><%= item_creator_form.select :creator_type_id, @creator_types %></td>
17: 					<td><%= item_creator_form.checkbox :destroy unless item_creator.new_record? %>
18: 				</tr>
19: 				
20: 			<% end %>

    app/views/items/action.html.erb:17
    app/views/items/action.html.erb:13
    app/views/items/action.html.erb:3
    app/controllers/items_controller.rb:22:in `edit'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:16:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (1.2ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action

ActionView::TemplateError (undefined method `checkbox' for #<ActionView::Helpers::FormBuilder:0x1042e2c50>) on line #17 of app/views/items/action.html.erb:
14: 					<tr>
15: 						<td>artist</td>
16: 						<td><%= item_creator_form.select :creator_type_id, @creator_types %></td>
17: 						<td><%= item_creator_form.checkbox :destroy %>
18: 					</tr>
19: 				<% end %>
20: 			</table>

    app/views/items/action.html.erb:17
    app/views/items/action.html.erb:13
    app/views/items/action.html.erb:3
    app/controllers/items_controller.rb:22:in `edit'

Rendered rescues/_trace (118.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:16:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.5ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 35ms (View: 12, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:17:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.9ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 94ms (View: 9, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:18:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.9ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.5ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 35ms (View: 12, DB: 2) | 200 OK [http://localhost/items/1/edit]
  [4;35;1mCreator Load (0.4ms)[0m   [0mSELECT "creators".* FROM "creators" INNER JOIN "item_creators" ON "creators".id = "item_creators".creator_id WHERE (("item_creators".item_id = 1)) ORDER BY name[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mItem Load (0.7ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:22:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.9ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 31ms (View: 8, DB: 2) | 200 OK [http://localhost/items/1/edit]


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-01 22:22:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (0.8ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (0.5ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering items/action
Rendered layouts/_navigation (0.3ms)
Completed in 93ms (View: 9, DB: 2) | 200 OK [http://localhost/items/1/edit]
  [4;35;1mItemCreator Load (0.5ms)[0m   [0mSELECT * FROM "item_creators" WHERE ("item_creators".item_id = 1) [0m
  [4;36;1mCreatorType Load (0.3ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."id" = 3) [0m


Processing ItemsController#index (for 127.0.0.1 at 2010-09-10 18:54:26) [GET]
  [4;36;1mItem Load (1.6ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name[0m
Rendering template within layouts/application
Rendering items/index
  [4;35;1mItemType Load (0.6ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."id" = 2) ORDER BY name[0m
Rendered layouts/_navigation (1.3ms)
Completed in 122ms (View: 100, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing ItemsController#edit (for 127.0.0.1 at 2010-09-11 02:25:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItemType Load (1.9ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mCreatorType Load (1.0ms)[0m   [0mSELECT * FROM "creator_types" [0m
  [4;36;1mKeyType Load (1.1ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m

SyntaxError (/Users/jinx/projects/collection/app/models/item.rb:33: syntax error, unexpected kEND, expecting $end):
  app/controllers/items_controller.rb:21:in `edit'

Rendered rescues/_trace (52.0ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mItemKey Load (1.5ms)[0m   [0mSELECT * FROM "item_keys" [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'UPC') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Create (0.5ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('UPC', '2010-09-11 06:41:30', '2010-09-11 06:41:30', NULL)[0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mKeyType Load (0.4ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'UPC') ORDER BY name LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mKeyType Load (0.4ms)[0m   [0mSELECT * FROM "key_types" ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'A') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Create (0.4ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('A', '2010-09-11 07:32:04', '2010-09-11 07:32:04', NULL)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
Migrating to CreateItemTypes (20100808212220)
Migrating to MakeKeyTypes (20100902011221)
Migrating to FixItemKeyModel (20100911073921)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "item_keys" ADD "value" varchar(255)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_item_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "key_type_id" integer, "created_at" datetime, "updated_at" datetime, "value" varchar(255)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("item_keys")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "temp_index_altered_item_keys_on_key_id" ON "altered_item_keys" ("key_type_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "temp_index_altered_item_keys_on_item_id" ON "altered_item_keys" ("item_id")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "item_keys"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "item_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "key_type_id" integer, "created_at" datetime, "updated_at" datetime, "value" varchar(255)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('temp_index_altered_item_keys_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('temp_index_altered_item_keys_on_key_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_item_keys_on_item_id" ON "item_keys" ("item_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_item_keys_on_key_id" ON "item_keys" ("key_type_id")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "altered_item_keys"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100911073921')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Create (0.4ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('ISBN', '2010-09-11 07:48:20', '2010-09-11 07:48:20', NULL)[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Create (0.3ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('ASIN', '2010-09-11 07:48:20', '2010-09-11 07:48:20', NULL)[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Create (0.3ms)[0m   [0mINSERT INTO "creators" ("name", "created_at", "updated_at") VALUES('BRIAN MICHAEL BENDIS', '2010-09-11 07:48:20', '2010-09-11 07:48:20')[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreatorType Create (0.3ms)[0m   [0mINSERT INTO "creator_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('AUTHOR', '2010-09-11 07:48:20', '2010-09-11 07:48:20', NULL)[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Create (0.3ms)[0m   [0mINSERT INTO "creators" ("name", "created_at", "updated_at") VALUES('MICHAEL AVON OEMING', '2010-09-11 07:48:20', '2010-09-11 07:48:20')[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.3ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mItem Create (0.7ms)[0m   [0;1mINSERT INTO "items" ("name", "rating", "created_at", "updated_at", "year", "item_type_id") VALUES('Powers Volume 1: Who Killed Retro Girl?: Who Killed Retro Girl? v. 1', NULL, '2010-09-11 07:52:59', '2010-09-11 07:52:59', NULL, NULL)[0m
  [4;35;1mItemCreator Create (0.3ms)[0m   [0mINSERT INTO "item_creators" ("created_at", "updated_at", "creator_type_id", "creator_id", "item_id") VALUES('2010-09-11 07:52:59', '2010-09-11 07:52:59', 5, 2, 2)[0m
  [4;36;1mItemCreator Create (0.1ms)[0m   [0;1mINSERT INTO "item_creators" ("created_at", "updated_at", "creator_type_id", "creator_id", "item_id") VALUES('2010-09-11 07:52:59', '2010-09-11 07:52:59', 5, 3, 2)[0m
  [4;35;1mItemKey Create (0.3ms)[0m   [0mINSERT INTO "item_keys" ("created_at", "updated_at", "key_type_id", "value", "item_id") VALUES('2010-09-11 07:52:59', '2010-09-11 07:52:59', 9, '1582401837', 2)[0m
  [4;36;1mItemKey Create (0.1ms)[0m   [0;1mINSERT INTO "item_keys" ("created_at", "updated_at", "key_type_id", "value", "item_id") VALUES('2010-09-11 07:52:59', '2010-09-11 07:52:59', 10, '', 2)[0m
  [4;35;1mKeyType Load (0.4ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
Migrating to CreateItemTypes (20100808212220)
Migrating to MakeKeyTypes (20100902011221)
Migrating to FixItemKeyModel (20100911073921)
Migrating to AddPublicationDateToItem (20100912191755)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "items" ADD "date" date[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100912191755')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
Migrating to CreateItemTypes (20100808212220)
Migrating to MakeKeyTypes (20100902011221)
Migrating to FixItemKeyModel (20100911073921)
Migrating to AddPublicationDateToItem (20100912191755)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
Migrating to CreateItemTypes (20100808212220)
Migrating to MakeKeyTypes (20100902011221)
Migrating to FixItemKeyModel (20100911073921)
Migrating to AddPublicationDateToItem (20100912191755)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddPublicationDateToItem (20100912191755)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rating" float, "year" integer, "item_type_id" integer, "created_at" datetime, "updated_at" datetime, "date" date) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "temp_index_altered_items_on_rating" ON "altered_items" ("rating")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "temp_index_altered_items_on_year" ON "altered_items" ("year")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "temp_index_altered_items_on_item_type_id" ON "altered_items" ("item_type_id")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "temp_index_altered_items_on_name" ON "altered_items" ("name")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "items"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rating" float, "year" integer, "item_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("altered_items")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('temp_index_altered_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('temp_index_altered_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('temp_index_altered_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('temp_index_altered_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_items_on_name" ON "items" ("name")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_items_on_item_type_id" ON "items" ("item_type_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_items_on_year" ON "items" ("year")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_items_on_rating" ON "items" ("rating")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "altered_items"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100912191755'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creator_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_creators_on_name')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("item_creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("item_keys")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("item_types")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("items")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_rating')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_year')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("key_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mItem Load (0.6ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;35;1mMetadatum Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: metadata: SELECT * FROM "metadata" WHERE ("metadata".item_id = 1) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
Migrating to CreateItemTypes (20100808212220)
Migrating to MakeKeyTypes (20100902011221)
Migrating to FixItemKeyModel (20100911073921)
Migrating to AddPublicationDateToItem (20100912192134)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "items" ADD "publication_date" date[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100912192134')[0m
Migrating to CreateMetadataTypes (20100912195923)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "metadata_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100912195923')[0m
Migrating to CreateMetadata (20100912202754)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "metadata" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "metadata_type_id" integer, "value" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100912202754')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("metadata")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("metadata_types")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;36;1mMetadatum Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata" WHERE ("metadata".item_id = 1) [0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mKeyType Load (2.4ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mKeyType Load (0.4ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mKeyType Load (1.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (2.0ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.4ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (1.9ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;35;1mMetadataType Create (1.1ms)[0m   [0mINSERT INTO "metadata_types" ("name", "created_at", "updated_at") VALUES('PUBLISHER', '2010-09-13 00:38:39', '2010-09-13 00:38:39')[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.2ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.2ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
Migrating to CreateItemTypes (20100808212220)
Migrating to MakeKeyTypes (20100902011221)
Migrating to FixItemKeyModel (20100911073921)
Migrating to AddPublicationDateToItem (20100912192134)
Migrating to CreateMetadataTypes (20100912195923)
Migrating to CreateMetadata (20100912202754)
Migrating to AddImageInfoToItem (20100913010147)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "items" ADD "image" varchar(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "items" ADD "width" integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "items" ADD "height" integer[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100913010147')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("metadata")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("metadata_types")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("metadata")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("metadata_types")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("metadata")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("metadata_types")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("metadata")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("metadata_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rating" float, "year" integer, "item_type_id" integer, "location" varchar(255), "artwork" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_items_on_name" ON "items" ("name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_items_on_item_type_id" ON "items" ("item_type_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_items_on_year" ON "items" ("year")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_items_on_rating" ON "items" ("rating")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808210552')[0m
Migrating to CreateCreators (20100808211038)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "creators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_creators_on_name" ON "creators" ("name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100808211038')[0m
Migrating to CreateItemCreators (20100808211135)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "item_creators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "creator_id" integer, "creator_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_item_creators_on_item_id" ON "item_creators" ("item_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_item_creators_on_creator_id" ON "item_creators" ("creator_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_item_creators_on_creator_type_id" ON "item_creators" ("creator_type_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808211135')[0m
Migrating to CreateItemKeys (20100808211408)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "item_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "key_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_item_keys_on_item_id" ON "item_keys" ("item_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_item_keys_on_key_id" ON "item_keys" ("key_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808211408')[0m
Migrating to CreateKeyTypes (20100808211518)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "key_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "item_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE INDEX "index_key_types_on_item_type_id" ON "key_types" ("item_type_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100808211518')[0m
Migrating to CreateCreatorTypes (20100808211719)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "creator_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "item_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_creator_types_on_item_type_id" ON "creator_types" ("item_type_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808211719')[0m
Migrating to CreateItemTypes (20100808212220)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "item_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100808212220')[0m
Migrating to MakeKeyTypes (20100902011221)
  [4;36;1mKeyType Create (0.4ms)[0m   [0;1mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('isrc', '2010-09-13 01:06:57', '2010-09-13 01:06:57', NULL)[0m
  [4;35;1mKeyType Create (0.1ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('upc', '2010-09-13 01:06:57', '2010-09-13 01:06:57', NULL)[0m
  [4;36;1mKeyType Create (0.1ms)[0m   [0;1mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('gpid', '2010-09-13 01:06:57', '2010-09-13 01:06:57', NULL)[0m
  [4;35;1mKeyType Create (0.1ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('asin', '2010-09-13 01:06:57', '2010-09-13 01:06:57', NULL)[0m
  [4;36;1mKeyType Create (0.1ms)[0m   [0;1mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('isbn', '2010-09-13 01:06:57', '2010-09-13 01:06:57', NULL)[0m
  [4;35;1mKeyType Create (0.1ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('isbn-13', '2010-09-13 01:06:57', '2010-09-13 01:06:57', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100902011221')[0m
Migrating to FixItemKeyModel (20100911073921)
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "item_keys" ADD "value" varchar(255)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_item_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "key_type_id" integer, "created_at" datetime, "updated_at" datetime, "value" varchar(255)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("item_keys")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "temp_index_altered_item_keys_on_key_id" ON "altered_item_keys" ("key_type_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "temp_index_altered_item_keys_on_item_id" ON "altered_item_keys" ("item_id")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "item_keys"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "item_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "key_type_id" integer, "created_at" datetime, "updated_at" datetime, "value" varchar(255)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('temp_index_altered_item_keys_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('temp_index_altered_item_keys_on_key_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_item_keys_on_item_id" ON "item_keys" ("item_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_item_keys_on_key_id" ON "item_keys" ("key_type_id")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "altered_item_keys"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100911073921')[0m
Migrating to AddPublicationDateToItem (20100912192134)
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "items" ADD "publication_date" date[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100912192134')[0m
Migrating to CreateMetadataTypes (20100912195923)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "metadata_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100912195923')[0m
Migrating to CreateMetadata (20100912202754)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "metadata" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "metadata_type_id" integer, "value" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100912202754')[0m
Migrating to AddImageInfoToItem (20100913010248)
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "items" ADD "image" varchar(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "items" ADD "image_width" integer[0m
  [4;35;1mSQL (3.0ms)[0m   [0mALTER TABLE "items" ADD "image_height" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100913010248')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("metadata")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("metadata_types")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Create (0.4ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('ISBN', '2010-09-13 01:16:28', '2010-09-13 01:16:28', NULL)[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Create (0.3ms)[0m   [0mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('ASIN', '2010-09-13 01:16:28', '2010-09-13 01:16:28', NULL)[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Create (0.3ms)[0m   [0mINSERT INTO "creators" ("name", "created_at", "updated_at") VALUES('BRIAN MICHAEL BENDIS', '2010-09-13 01:16:28', '2010-09-13 01:16:28')[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreatorType Create (0.3ms)[0m   [0mINSERT INTO "creator_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('AUTHOR', '2010-09-13 01:16:28', '2010-09-13 01:16:28', NULL)[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Create (0.3ms)[0m   [0mINSERT INTO "creators" ("name", "created_at", "updated_at") VALUES('MICHAEL AVON OEMING', '2010-09-13 01:16:28', '2010-09-13 01:16:28')[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.1ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mMetadataType Create (0.3ms)[0m   [0;1mINSERT INTO "metadata_types" ("name", "created_at", "updated_at") VALUES('PUBLISHER', '2010-09-13 01:16:28', '2010-09-13 01:16:28')[0m
  [4;35;1mItemKey Load (0.9ms)[0m   [0mSELECT * FROM "item_keys" WHERE ("item_keys"."id" = 1582401837) [0m
  [4;36;1mItemKey Load (0.3ms)[0m   [0;1mSELECT * FROM "item_keys" WHERE ("item_keys"."value" = '1582401837') LIMIT 1[0m
  [4;35;1mItem Create (0.5ms)[0m   [0mINSERT INTO "items" ("name", "rating", "artwork", "image_height", "location", "created_at", "updated_at", "publication_date", "image_width", "year", "item_type_id", "image") VALUES('Powers Volume 1: Who Killed Retro Girl?: Who Killed Retro Girl? v. 1', NULL, NULL, 475, NULL, '2010-09-13 01:50:01', '2010-09-13 01:50:01', '2001-01-18', 306, 2001, NULL, 'http://ecx.images-amazon.com/images/I/51RQYRJ4EJL.jpg')[0m
  [4;36;1mItemCreator Create (0.3ms)[0m   [0;1mINSERT INTO "item_creators" ("created_at", "updated_at", "creator_type_id", "creator_id", "item_id") VALUES('2010-09-13 01:50:01', '2010-09-13 01:50:01', 1, 1, 1)[0m
  [4;35;1mItemCreator Create (0.2ms)[0m   [0mINSERT INTO "item_creators" ("created_at", "updated_at", "creator_type_id", "creator_id", "item_id") VALUES('2010-09-13 01:50:01', '2010-09-13 01:50:01', 1, 2, 1)[0m
  [4;36;1mItemKey Create (0.2ms)[0m   [0;1mINSERT INTO "item_keys" ("created_at", "updated_at", "key_type_id", "value", "item_id") VALUES('2010-09-13 01:50:01', '2010-09-13 01:50:01', 7, '1582401837', 1)[0m
  [4;35;1mItemKey Create (0.1ms)[0m   [0mINSERT INTO "item_keys" ("created_at", "updated_at", "key_type_id", "value", "item_id") VALUES('2010-09-13 01:50:01', '2010-09-13 01:50:01', 8, '', 1)[0m
  [4;36;1mMetadatum Create (0.1ms)[0m   [0;1mINSERT INTO "metadata" ("created_at", "updated_at", "metadata_type_id", "value", "item_id") VALUES('2010-09-13 01:50:01', '2010-09-13 01:50:01', 1, 'Image Comics', 1)[0m
  [4;35;1mItemKey Load (0.4ms)[0m   [0mSELECT * FROM "item_keys" WHERE ("item_keys"."value" = '1582401837') LIMIT 1[0m
  [4;36;1mKeyType Load (0.7ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mItemKey Load (0.3ms)[0m   [0;1mSELECT * FROM "item_keys" [0m
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" ORDER BY name[0m
  [4;36;1mItemKey Load (0.3ms)[0m   [0;1mSELECT * FROM "item_keys" WHERE ("item_keys"."value" = '1582401837') LIMIT 1[0m
  [4;35;1mItemKey Load (0.4ms)[0m   [0mSELECT * FROM "item_keys" WHERE ("item_keys"."value" = '1582401837') LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
  [4;35;1mItemKey Load (0.3ms)[0m   [0mSELECT * FROM "item_keys" WHERE ("item_keys"."value" = '1582401837a') LIMIT 1[0m
  [4;36;1mItemKey Load (0.3ms)[0m   [0;1mSELECT * FROM "item_keys" WHERE ("item_keys"."value" = '1582401837a') LIMIT 1[0m
  [4;35;1mItemKey Load (0.3ms)[0m   [0mSELECT * FROM "item_keys" ORDER BY item_keys.id DESC LIMIT 1[0m
  [4;36;1mItemKey Destroy (0.5ms)[0m   [0;1mDELETE FROM "item_keys" WHERE "id" = 2[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mItem Load (2.0ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;36;1mItemKey Load (0.3ms)[0m   [0;1mSELECT * FROM "item_keys" WHERE ("item_keys".item_id = 1) [0m
  [4;35;1mKeyType Load (0.6ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."id" = 7) ORDER BY name[0m
  [4;36;1mItemType Load (2.0ms)[0m   [0;1mSELECT * FROM "item_types" ORDER BY name[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mKeyType Load (1.2ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.8ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.7ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.7ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mKeyType Load (0.7ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mKeyType Load (0.2ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.3ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mItemType Load (0.1ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;35;1mItemType Create (1.0ms)[0m   [0mINSERT INTO "item_types" ("name", "created_at", "updated_at") VALUES('book', '2011-04-09 19:22:42', '2011-04-09 19:22:42')[0m
  [4;36;1mKeyType Load (1.7ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.3ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreator Load (0.3ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.2ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mItemType Load (0.3ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.6ms)[0m   [0mSELECT * FROM "key_types" ORDER BY name[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.2ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;35;1mItemType Load (0.3ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.7ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mKeyType Load (0.2ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'BRIAN MICHAEL BENDIS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'MICHAEL AVON OEMING') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.2ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."id" = 7) ORDER BY name[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."id" = 8) ORDER BY name[0m
  [4;36;1mItemType Load (0.3ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.6ms)[0m   [0mSELECT * FROM "key_types" ORDER BY name[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.2ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.1ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'ALAN MOORE') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Create (2.5ms)[0m   [0mINSERT INTO "creators" ("name", "created_at", "updated_at") VALUES('ALAN MOORE', '2011-04-09 20:06:49', '2011-04-09 20:06:49')[0m
  [4;36;1mCreatorType Load (0.3ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.2ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m


Processing BooksController#index (for 127.0.0.1 at 2011-04-09 16:54:23) [GET]

ActionView::MissingTemplate (Missing template books/index.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 16:54:29) [GET]

ActionView::MissingTemplate (Missing template books/new.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 16:59:27) [GET]
Rendering template within layouts/application
Rendering action

ActionView::MissingTemplate (Missing template action.erb in view path app/views):
  app/controllers/books_controller.rb:9:in `new'

Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:00:42) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (undefined method `value' for #<Item:0x10411c5d8>) on line #4 of app/views/shared/action.html.erb:
1: <% form_for @item do |form| %>
2:   <%= form.error_messages %>
3: 	<%= form.label :value %>
4: 	<%= form.text_field :value  %>
5: 	<%= hidden_field_tag :type, @type %>
6: <% end %>

    app/views/shared/action.html.erb:4
    app/views/shared/action.html.erb:1
    app/controllers/books_controller.rb:9:in `new'

Rendered rescues/_trace (66.4ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:02:11) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (1.8ms)
Completed in 33ms (View: 18, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:03:16) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Completed in 30ms (View: 16, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:06:47) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Completed in 26ms (View: 10, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:15:15) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/shared/action.html.erb:
1: <% form_for @item ["books"] do |form| %>
2: <%# form_tag "books" %>
3: 	<%= label_tag :value, @type %>
4: 	<%= text_field_tag :value %>

    app/views/shared/action.html.erb:1
    app/controllers/books_controller.rb:9:in `new'

Rendered rescues/_trace (130.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:16:13) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/shared/action.html.erb:
1: <% form_for @item ["books"] do |form| %>
2: <%# form_tag "books" %>
3: 	<%= label_tag :value, @type %>
4: 	<%= text_field_tag :value %>

    app/views/shared/action.html.erb:1
    app/controllers/books_controller.rb:9:in `new'

Rendered rescues/_trace (164.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:16:31) [GET]
Rendering template within layouts/application
Rendering shared/action
ERROR: compiling _run_erb_app47views47shared47action46html46erb RAISED compile error
/Users/jinx/projects/collection/app/views/shared/action.html.erb:8: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47shared47action46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n"
;  form_tag "books" ; @output_buffer.concat "\n\t"
; @output_buffer.concat(( label_tag :value, @type ).to_s); @output_buffer.concat "\n\t"
; @output_buffer.concat(( text_field_tag :value ).to_s); @output_buffer.concat "\n\t"
; @output_buffer.concat(( hidden_field_tag :type, @type ).to_s); @output_buffer.concat "\n\t"
; @output_buffer.concat(( crud_submit @item ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/jinx/projects/collection/app/views/shared/action.html.erb:8:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/jinx/projects/collection/app/controllers/books_controller.rb:9:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/jinx/projects/collection/app/views/shared/action.html.erb:8: syntax error, unexpected kENSURE, expecting $end) on line #8 of app/views/shared/action.html.erb:
5: 	<%= hidden_field_tag :type, @type %>
6: 	<%= crud_submit @item %>
7: <% end %>

    app/views/shared/action.html.erb:8:in `compile!'
    app/controllers/books_controller.rb:9:in `new'

Rendered rescues/_trace (136.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:17:02) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.4ms)
Completed in 26ms (View: 10, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:23:51) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Completed in 20ms (View: 6, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#books (for 127.0.0.1 at 2011-04-09 17:25:29) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"mIkQtFWS0g4XyJ9jGbzhULIf9ldQHS07MgUvqc0RYYs=", "value"=>"9781932051322", "type"=>"isbn"}

ActionController::UnknownAction (No action responded to books. Actions: create, creator_types_list, crud_submit, index, item_types_list, key_types_list, new, and show):
  

Rendering rescues/layout (not_found)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:25:51) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Completed in 94ms (View: 5, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:25:53) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.4ms)
Completed in 19ms (View: 5, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:27:56) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (undefined local variable or method `create_book_path' for #<ActionView::Base:0x1042ed768>) on line #2 of app/views/shared/action.html.erb:
1: <%#ß form_for @item ["books"] do |form| %>
2: <% form_tag create_book_path do -%>
3: 	<%= label_tag :value, @type %>
4: 	<%= text_field_tag :value %>
5: 	<%= hidden_field_tag :type, @type %>

    app/views/shared/action.html.erb:2
    app/controllers/books_controller.rb:9:in `new'

Rendered rescues/_trace (133.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:28:13) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (undefined local variable or method `create_book_path' for #<ActionView::Base:0x1011d96e0>) on line #2 of app/views/shared/action.html.erb:
1: <%#ß form_for @item ["books"] do |form| %>
2: <% form_tag create_book_path do -%>
3: 	<%= label_tag :value, @type %>
4: 	<%= text_field_tag :value %>
5: 	<%= hidden_field_tag :type, @type %>

    app/views/shared/action.html.erb:2
    app/controllers/books_controller.rb:9:in `new'

Rendered rescues/_trace (123.5ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:31:07) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (1.5ms)
Completed in 190ms (View: 38, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:31:17) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"mIkQtFWS0g4XyJ9jGbzhULIf9ldQHS07MgUvqc0RYYs=", "value"=>"1", "type"=>"isbn"}
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.4ms)
Completed in 18ms (View: 5, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:34:06) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (book_url failed to generate from {:action=>"show", :controller=>"books"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["books", :id] - are they all satisfied?) on line #3 of app/views/shared/action.html.erb:
1: <%#ß form_for @item ["books"] do |form| %>
2: <%# form_tag create_book_path do -%>
3: <% form_tag(book_path, :method=>'post') do %>
4: 	<%= label_tag :value, @type %>
5: 	<%= text_field_tag :value %>
6: 	<%= hidden_field_tag :type, @type %>

    (eval):16:in `book_path'
    app/views/shared/action.html.erb:3
    app/controllers/books_controller.rb:9:in `new'

Rendered rescues/_trace (133.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:36:45) [GET]
Rendering template within layouts/application
Rendering shared/action
ERROR: compiling _run_erb_app47views47shared47action46html46erb RAISED compile error
/Users/jinx/projects/collection/app/views/shared/action.html.erb:1: syntax error, unexpected ':', expecting kEND
...plate=true ;  form_for @item :url=>{ :action =>"index", :con...
                              ^
/Users/jinx/projects/collection/app/views/shared/action.html.erb:1: syntax error, unexpected kDO, expecting kEND
...x", :controller => "books"} do |form| ; @output_buffer.conca...
                              ^
/Users/jinx/projects/collection/app/views/shared/action.html.erb:9: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47shared47action46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  form_for @item :url=>{ :action =>"index", :controller => "books"} do |form| ; @output_buffer.concat "\n"

@output_buffer.concat "\n\t"
; @output_buffer.concat(( label_tag :value, @type ).to_s); @output_buffer.concat "\n\t"
; @output_buffer.concat(( text_field_tag :value ).to_s); @output_buffer.concat "\n\t"
; @output_buffer.concat(( hidden_field_tag :type, @type ).to_s); @output_buffer.concat "\n\t"
; @output_buffer.concat(( crud_submit @item ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/jinx/projects/collection/app/views/shared/action.html.erb:9:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/Users/jinx/projects/collection/app/controllers/books_controller.rb:9:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/jinx/projects/collection/app/views/shared/action.html.erb:1: syntax error, unexpected ':', expecting kEND
...plate=true ;  form_for @item :url=>{ :action =>"index", :con...
                              ^
/Users/jinx/projects/collection/app/views/shared/action.html.erb:1: syntax error, unexpected kDO, expecting kEND
...x", :controller => "books"} do |form| ; @output_buffer.conca...
                              ^
/Users/jinx/projects/collection/app/views/shared/action.html.erb:9: syntax error, unexpected kENSURE, expecting $end) on line #1 of app/views/shared/action.html.erb:
1: <% form_for @item :url=>{ :action =>"index", :controller => "books"} do |form| %>
2: <%# form_tag create_book_path do -%>
3: <%# form_tag(book_path, :method=>'post') do %>
4: 	<%= label_tag :value, @type %>

    app/views/shared/action.html.erb:9:in `compile!'
    app/controllers/books_controller.rb:9:in `new'

Rendered rescues/_trace (145.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:36:58) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Completed in 23ms (View: 10, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:38:55) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/shared/action.html.erb:
1: <% form_for @item, :url=>{ :action =>"index", :controller => controller} do |form| %>
2: <%# form_tag create_book_path do -%>
3: <%# form_tag(book_path, :method=>'post') do %>
4: 	<%= label_tag :value, @type %>

    app/views/shared/action.html.erb:1
    app/controllers/books_controller.rb:11:in `new'

Rendered rescues/_trace (146.6ms)


Processing ApplicationController#new (for 127.0.0.1 at 2011-04-09 17:38:55) [GET]

ActionView::TemplateError (undefined method `response' for "books":String) in /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/templates/rescues/_request_and_response.erb:

    

Rendered rescues/_trace (132.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:39:01) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/shared/action.html.erb:
1: <% form_for @item, :url=>{ :action =>"index", :controller => controller} do |form| %>
2: <%# form_tag create_book_path do -%>
3: <%# form_tag(book_path, :method=>'post') do %>
4: 	<%= label_tag :value, @type %>

    app/views/shared/action.html.erb:1
    app/controllers/books_controller.rb:11:in `new'

Rendered rescues/_trace (127.8ms)


Processing ApplicationController#new (for 127.0.0.1 at 2011-04-09 17:39:01) [GET]

ActionView::TemplateError (undefined method `response' for "books":String) in /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/templates/rescues/_request_and_response.erb:

    

Rendered rescues/_trace (53.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:39:30) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/shared/action.html.erb:
1: <% form_for @item, :url=>{ :action =>"index", :controller => @controller} do |form| %>
2: <%# form_tag create_book_path do -%>
3: <%# form_tag(book_path, :method=>'post') do %>
4: 	<%= label_tag :value, @type %>

    app/views/shared/action.html.erb:1
    app/controllers/books_controller.rb:11:in `new'

Rendered rescues/_trace (82.7ms)


Processing ApplicationController#new (for 127.0.0.1 at 2011-04-09 17:39:30) [GET]

ActionView::TemplateError (undefined method `response' for "books":String) in /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/templates/rescues/_request_and_response.erb:

    

Rendered rescues/_trace (54.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:39:49) [GET]
Rendering template within layouts/application
Rendering shared/action

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/shared/action.html.erb:
1: <% form_for @item, :url=>{ :action =>"index", :controller => "books"} do |form| %>
2: <%# form_tag create_book_path do -%>
3: <%# form_tag(book_path, :method=>'post') do %>
4: 	<%= label_tag :value, @type %>

    app/views/shared/action.html.erb:1
    app/controllers/books_controller.rb:11:in `new'

Rendered rescues/_trace (60.2ms)


Processing ApplicationController#new (for 127.0.0.1 at 2011-04-09 17:39:49) [GET]

ActionView::TemplateError (undefined method `response' for "books":String) in /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/templates/rescues/_request_and_response.erb:

    

Rendered rescues/_trace (133.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:40:21) [GET]

NoMethodError (undefined method `set_controller' for #<BooksController:0x1041ca250>):
  

Rendered rescues/_trace (48.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:40:33) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Completed in 22ms (View: 7, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:40:47) [GET]

NoMethodError (undefined method `set_category' for #<BooksController:0x10436d5d0>):
  

Rendered rescues/_trace (52.6ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:41:09) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Completed in 18ms (View: 6, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:41:32) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.6ms)
Completed in 28ms (View: 13, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#create (for 127.0.0.1 at 2011-04-09 17:41:39) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"mIkQtFWS0g4XyJ9jGbzhULIf9ldQHS07MgUvqc0RYYs=", "value"=>"9781932051322", "type"=>"isbn"}

NoMethodError (undefined method `text' for nil:NilClass):
  /Library/Ruby/Gems/1.8/gems/ruby-aaws-0.7.0/lib/amazon/aws.rb:1434:in `exception'
  /Library/Ruby/Gems/1.8/gems/ruby-aaws-0.7.0/lib/amazon/aws/search.rb:198:in `error_check'
  /Library/Ruby/Gems/1.8/gems/ruby-aaws-0.7.0/lib/amazon/aws/search.rb:359:in `search'
  app/models/item.rb:40:in `aws_lookup'
  app/models/item.rb:46:in `lookup'
  app/controllers/books_controller.rb:18:in `create'

Rendered rescues/_trace (45.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mItemType Load (0.8ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (1.2ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.9ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Create (1.2ms)[0m   [0;1mINSERT INTO "creators" ("name", "created_at", "updated_at") VALUES('RICK C. SPEARS', '2011-04-09 21:42:19', '2011-04-09 21:42:19')[0m
  [4;35;1mCreatorType Load (0.7ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m


Processing BooksController#create (for 127.0.0.1 at 2011-04-09 17:44:53) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"mIkQtFWS0g4XyJ9jGbzhULIf9ldQHS07MgUvqc0RYYs=", "value"=>"9781932051322", "type"=>"isbn"}

NoMethodError (undefined method `text' for nil:NilClass):
  /Library/Ruby/Gems/1.8/gems/ruby-aaws-0.7.0/lib/amazon/aws.rb:1434:in `exception'
  /Library/Ruby/Gems/1.8/gems/ruby-aaws-0.7.0/lib/amazon/aws/search.rb:198:in `error_check'
  /Library/Ruby/Gems/1.8/gems/ruby-aaws-0.7.0/lib/amazon/aws/search.rb:359:in `search'
  app/models/item.rb:40:in `aws_lookup'
  app/models/item.rb:46:in `lookup'
  app/controllers/books_controller.rb:18:in `create'

Rendered rescues/_trace (45.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mItemType Load (0.3ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.6ms)[0m   [0;1mSELECT * FROM "key_types" ORDER BY name[0m
  [4;35;1mKeyType Load (0.2ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.2ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mItemType Load (0.3ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.6ms)[0m   [0mSELECT * FROM "key_types" ORDER BY name[0m
  [4;36;1mKeyType Load (0.2ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.2ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ASIN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.2ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:47:59) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Completed in 18ms (View: 6, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#create (for 127.0.0.1 at 2011-04-09 17:48:05) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"mIkQtFWS0g4XyJ9jGbzhULIf9ldQHS07MgUvqc0RYYs=", "value"=>"9781932051322", "type"=>"isbn"}
  [4;36;1mItemType Load (0.2ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.3ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.2ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;35;1mItem Create (2.4ms)[0m   [0mINSERT INTO "items" ("name", "rating", "artwork", "image_height", "location", "created_at", "updated_at", "publication_date", "image_width", "year", "item_type_id", "image") VALUES('Filler', NULL, NULL, 500, NULL, '2011-04-09 21:48:05', '2011-04-09 21:48:05', '2005-04-27', 333, 2005, 1, 'http://ecx.images-amazon.com/images/I/41H29YCP5RL.jpg')[0m
  [4;36;1mItemCreator Create (0.7ms)[0m   [0;1mINSERT INTO "item_creators" ("created_at", "updated_at", "creator_type_id", "creator_id", "item_id") VALUES('2011-04-09 21:48:05', '2011-04-09 21:48:05', 1, 4, 2)[0m
  [4;35;1mItemKey Create (0.2ms)[0m   [0mINSERT INTO "item_keys" ("created_at", "updated_at", "key_type_id", "value", "item_id") VALUES('2011-04-09 21:48:05', '2011-04-09 21:48:05', 7, '1932051325', 2)[0m
  [4;36;1mMetadatum Create (0.6ms)[0m   [0;1mINSERT INTO "metadata" ("created_at", "updated_at", "metadata_type_id", "value", "item_id") VALUES('2011-04-09 21:48:05', '2011-04-09 21:48:05', 1, 'A i T/Planet Lar', 2)[0m
Rendered books/_item (1.5ms)
Redirected to http://localhost:3000/books/new
Completed in 562ms (View: 71, DB: 5) | 302 Found [http://localhost/books]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 17:48:05) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.4ms)
Completed in 20ms (View: 6, DB: 0) | 200 OK [http://localhost/books/new]
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
Migrating to CreateItemTypes (20100808212220)
Migrating to MakeKeyTypes (20100902011221)
Migrating to FixItemKeyModel (20100911073921)
Migrating to AddPublicationDateToItem (20100912192134)
Migrating to CreateMetadataTypes (20100912195923)
Migrating to CreateMetadata (20100912202754)
Migrating to AddImageInfoToItem (20100913010248)
Migrating to AddUserIdToItems (20110409215358)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "items" ADD "user_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110409215358')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("metadata")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("metadata_types")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddUserIdToItems (20110409215358)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TEMPORARY TABLE "altered_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rating" float, "year" integer, "item_type_id" integer, "location" varchar(255), "artwork" varchar(255), "created_at" datetime, "updated_at" datetime, "publication_date" date, "image" varchar(255), "image_width" integer, "image_height" integer, "user_id" integer) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "temp_index_altered_items_on_rating" ON "altered_items" ("rating")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "temp_index_altered_items_on_year" ON "altered_items" ("year")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "temp_index_altered_items_on_item_type_id" ON "altered_items" ("item_type_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "temp_index_altered_items_on_name" ON "altered_items" ("name")[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "items"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rating" float, "year" integer, "item_type_id" integer, "location" varchar(255), "artwork" varchar(255), "created_at" datetime, "updated_at" datetime, "publication_date" date, "image" varchar(255), "image_width" integer, "image_height" integer) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("altered_items")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('temp_index_altered_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('temp_index_altered_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('temp_index_altered_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('temp_index_altered_items_on_rating')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "index_items_on_name" ON "items" ("name")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE INDEX "index_items_on_item_type_id" ON "items" ("item_type_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_items_on_year" ON "items" ("year")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_items_on_rating" ON "items" ("rating")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "altered_items"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20110409215358'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creator_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_creators_on_name')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("item_creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("item_keys")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_types")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("items")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_rating')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_year')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_name')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("key_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("metadata")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("metadata_types")[0m


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 18:04:32) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.4ms)
Rendered layouts/_flash_messages (1.5ms)
Completed in 60ms (View: 34, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 18:08:09) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Rendered layouts/_flash_messages (0.1ms)
Completed in 21ms (View: 8, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 18:08:26) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Rendered layouts/_flash_messages (0.1ms)
Completed in 25ms (View: 10, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 18:17:31) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.4ms)
Rendered layouts/_flash_messages (0.1ms)
Completed in 37ms (View: 24, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 18:18:27) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.4ms)
Rendered layouts/_flash_messages (0.1ms)
Completed in 111ms (View: 99, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 18:19:06) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Rendered layouts/_flash_messages (0.1ms)
Completed in 21ms (View: 8, DB: 0) | 200 OK [http://localhost/books/new]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20100808210552)
Migrating to CreateCreators (20100808211038)
Migrating to CreateItemCreators (20100808211135)
Migrating to CreateItemKeys (20100808211408)
Migrating to CreateKeyTypes (20100808211518)
Migrating to CreateCreatorTypes (20100808211719)
Migrating to CreateItemTypes (20100808212220)
Migrating to MakeKeyTypes (20100902011221)
Migrating to FixItemKeyModel (20100911073921)
Migrating to AddPublicationDateToItem (20100912192134)
Migrating to CreateMetadataTypes (20100912195923)
Migrating to CreateMetadata (20100912202754)
Migrating to AddImageInfoToItem (20100913010248)
Migrating to AddUserIdToItems (20110409215358)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "items" ADD "user_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "index_items_on_user_id" ON "items" ("user_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110409215358')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creator_types")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_creators_on_name')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("item_creators")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("item_keys")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("item_types")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("items")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_user_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("metadata")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("metadata_types")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;36;1mItem Load (0.5ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddUserIdToItems (20110409215358)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TEMPORARY TABLE "altered_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rating" float, "year" integer, "item_type_id" integer, "location" varchar(255), "artwork" varchar(255), "created_at" datetime, "updated_at" datetime, "publication_date" date, "image" varchar(255), "image_width" integer, "image_height" integer, "user_id" integer) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_user_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_rating')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_year')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE INDEX "temp_index_altered_items_on_user_id" ON "altered_items" ("user_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "temp_index_altered_items_on_rating" ON "altered_items" ("rating")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "temp_index_altered_items_on_year" ON "altered_items" ("year")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "temp_index_altered_items_on_item_type_id" ON "altered_items" ("item_type_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "temp_index_altered_items_on_name" ON "altered_items" ("name")[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "items"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rating" float, "year" integer, "item_type_id" integer, "location" varchar(255), "artwork" varchar(255), "created_at" datetime, "updated_at" datetime, "publication_date" date, "image" varchar(255), "image_width" integer, "image_height" integer) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mPRAGMA index_list("altered_items")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('temp_index_altered_items_on_name')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('temp_index_altered_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('temp_index_altered_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('temp_index_altered_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('temp_index_altered_items_on_user_id')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE INDEX "index_items_on_name" ON "items" ("name")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_items_on_item_type_id" ON "items" ("item_type_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_items_on_year" ON "items" ("year")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_items_on_rating" ON "items" ("rating")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "altered_items"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20110409215358'[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creator_types")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creator_types_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_creators_on_name')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("item_creators")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_creator_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_creators_on_creator_id')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_creators_on_item_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("item_keys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_item_keys_on_key_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_item_keys_on_item_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("item_types")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_rating')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_year')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_items_on_item_type_id')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_items_on_name')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("key_types")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_key_types_on_item_type_id')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("metadata")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("metadata_types")[0m


Processing BooksController#create (for 127.0.0.1 at 2011-04-09 18:27:00) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"mIkQtFWS0g4XyJ9jGbzhULIf9ldQHS07MgUvqc0RYYs=", "value"=>"9781932051322", "type"=>"isbn"}
  [4;35;1mItemType Load (0.3ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.3ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.3ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.3ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mItem Create (0.5ms)[0m   [0;1mINSERT INTO "items" ("name", "rating", "artwork", "image_height", "location", "created_at", "updated_at", "publication_date", "image_width", "year", "item_type_id", "image") VALUES('Filler', NULL, NULL, 500, NULL, '2011-04-09 22:27:00', '2011-04-09 22:27:00', '2005-04-27', 333, 2005, 1, 'http://ecx.images-amazon.com/images/I/41H29YCP5RL.jpg')[0m
  [4;35;1mItemCreator Create (0.3ms)[0m   [0mINSERT INTO "item_creators" ("created_at", "updated_at", "creator_type_id", "creator_id", "item_id") VALUES('2011-04-09 22:27:00', '2011-04-09 22:27:00', 1, 4, 3)[0m
  [4;36;1mItemKey Create (0.3ms)[0m   [0;1mINSERT INTO "item_keys" ("created_at", "updated_at", "key_type_id", "value", "item_id") VALUES('2011-04-09 22:27:00', '2011-04-09 22:27:00', 7, '1932051325', 3)[0m
  [4;35;1mMetadatum Create (0.2ms)[0m   [0mINSERT INTO "metadata" ("created_at", "updated_at", "metadata_type_id", "value", "item_id") VALUES('2011-04-09 22:27:00', '2011-04-09 22:27:00', 1, 'A i T/Planet Lar', 3)[0m
Rendered books/_item (0.2ms)
Redirected to http://localhost:3000/books/new
Completed in 549ms (View: 1, DB: 3) | 302 Found [http://localhost/books]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 18:27:00) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Rendered layouts/_flash_messages (0.1ms)
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#show (for 127.0.0.1 at 2011-04-09 18:31:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 1) ORDER BY name[0m
Rendered books/_item (2.7ms)
Completed in 19ms (View: 7, DB: 0) | 200 OK [http://localhost/books/1]
  [4;36;1mItemType Load (0.4ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.3ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.3ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.1ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PAGES') LIMIT 1[0m
  [4;36;1mMetadataType Create (0.4ms)[0m   [0;1mINSERT INTO "metadata_types" ("name", "created_at", "updated_at") VALUES('PAGES', '2011-04-09 22:32:58', '2011-04-09 22:32:58')[0m
  [4;35;1mItem Load (1.1ms)[0m   [0mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;36;1mMetadatum Load (0.3ms)[0m   [0;1mSELECT * FROM "metadata" WHERE ("metadata".item_id = 1) [0m
  [4;35;1mItem Load (0.5ms)[0m   [0mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;36;1mItem Destroy (0.5ms)[0m   [0;1mDELETE FROM "items" WHERE "id" = 1[0m


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 19:15:12) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Rendered layouts/_flash_messages (0.1ms)
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#create (for 127.0.0.1 at 2011-04-09 19:15:32) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"mIkQtFWS0g4XyJ9jGbzhULIf9ldQHS07MgUvqc0RYYs=", "value"=>"9781932051322", "type"=>"isbn"}
  [4;35;1mItemType Load (0.2ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.2ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'EAN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Create (0.4ms)[0m   [0;1mINSERT INTO "key_types" ("name", "created_at", "updated_at", "item_type_id") VALUES('EAN', '2011-04-09 23:15:33', '2011-04-09 23:15:33', NULL)[0m
  [4;35;1mCreator Load (0.3ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.3ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m

NoMethodError (undefined method `metadata' for #<Item:0x1041671a0>):
  app/models/item.rb:72:in `assemble_book'
  app/models/item.rb:59:in `lookup'
  app/controllers/books_controller.rb:18:in `create'

Rendered rescues/_trace (105.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mItemType Load (0.3ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'EAN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.2ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mItemType Load (0.3ms)[0m   [0;1mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'EAN') ORDER BY name LIMIT 1[0m
  [4;35;1mCreator Load (0.3ms)[0m   [0mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;36;1mCreatorType Load (0.2ms)[0m   [0;1mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.2ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'NUMBER_OF_PAGES') LIMIT 1[0m
  [4;35;1mMetadataType Create (0.4ms)[0m   [0mINSERT INTO "metadata_types" ("name", "created_at", "updated_at") VALUES('NUMBER_OF_PAGES', '2011-04-09 23:17:30', '2011-04-09 23:17:30')[0m
  [4;36;1mMetadataType Load (0.3ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;35;1mItem Load (1.1ms)[0m   [0mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;36;1mItem Load (0.5ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;35;1mItem Destroy (0.8ms)[0m   [0mDELETE FROM "items" WHERE "id" = 3[0m
  [4;36;1mItem Load (0.6ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;36;1mItem Destroy (0.3ms)[0m   [0;1mDELETE FROM "items" WHERE "id" = 2[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 19:17:55) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.4ms)
Rendered layouts/_flash_messages (0.1ms)
Completed in 22ms (View: 8, DB: 0) | 200 OK [http://localhost/books/new]


Processing BooksController#create (for 127.0.0.1 at 2011-04-09 19:19:12) [POST]
  Parameters: {"commit"=>"Create!", "authenticity_token"=>"mIkQtFWS0g4XyJ9jGbzhULIf9ldQHS07MgUvqc0RYYs=", "value"=>"9781932051322", "type"=>"isbn"}
  [4;35;1mItemType Load (0.2ms)[0m   [0mSELECT * FROM "item_types" WHERE ("item_types"."name" = 'book') ORDER BY name LIMIT 1[0m
  [4;36;1mKeyType Load (0.3ms)[0m   [0;1mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'ISBN') ORDER BY name LIMIT 1[0m
  [4;35;1mKeyType Load (0.3ms)[0m   [0mSELECT * FROM "key_types" WHERE ("key_types"."name" = 'EAN') ORDER BY name LIMIT 1[0m
  [4;36;1mCreator Load (0.3ms)[0m   [0;1mSELECT * FROM "creators" WHERE ("creators"."name" = 'RICK C. SPEARS') ORDER BY name LIMIT 1[0m
  [4;35;1mCreatorType Load (0.3ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'AUTHOR') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;35;1mMetadataType Load (0.3ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'NUMBER_OF_PAGES') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'PUBLISHER') LIMIT 1[0m
  [4;35;1mItem Create (0.5ms)[0m   [0mINSERT INTO "items" ("name", "rating", "artwork", "image_height", "location", "created_at", "updated_at", "publication_date", "image_width", "year", "item_type_id", "image") VALUES('Filler', NULL, NULL, 500, NULL, '2011-04-09 23:19:13', '2011-04-09 23:19:13', '2005-04-27', 333, 2005, 1, 'http://ecx.images-amazon.com/images/I/41H29YCP5RL.jpg')[0m
  [4;36;1mItemCreator Create (0.3ms)[0m   [0;1mINSERT INTO "item_creators" ("created_at", "updated_at", "creator_type_id", "creator_id", "item_id") VALUES('2011-04-09 23:19:13', '2011-04-09 23:19:13', 1, 4, 4)[0m
  [4;35;1mItemKey Create (0.2ms)[0m   [0mINSERT INTO "item_keys" ("created_at", "updated_at", "key_type_id", "value", "item_id") VALUES('2011-04-09 23:19:13', '2011-04-09 23:19:13', 7, '1932051325', 4)[0m
  [4;36;1mItemKey Create (0.1ms)[0m   [0;1mINSERT INTO "item_keys" ("created_at", "updated_at", "key_type_id", "value", "item_id") VALUES('2011-04-09 23:19:13', '2011-04-09 23:19:13', 9, '9781932051322', 4)[0m
  [4;35;1mMetadatum Create (0.2ms)[0m   [0mINSERT INTO "metadata" ("created_at", "updated_at", "metadata_type_id", "value", "item_id") VALUES('2011-04-09 23:19:13', '2011-04-09 23:19:13', 1, 'A i T/Planet Lar', 4)[0m
  [4;36;1mMetadatum Create (0.1ms)[0m   [0;1mINSERT INTO "metadata" ("created_at", "updated_at", "metadata_type_id", "value", "item_id") VALUES('2011-04-09 23:19:13', '2011-04-09 23:19:13', 3, '96', 4)[0m
  [4;35;1mMetadatum Create (0.1ms)[0m   [0mINSERT INTO "metadata" ("created_at", "updated_at", "metadata_type_id", "value", "item_id") VALUES('2011-04-09 23:19:13', '2011-04-09 23:19:13', 1, '741', 4)[0m
Rendered books/_item (0.7ms)
Redirected to http://localhost:3000/books/new
Completed in 561ms (View: 5, DB: 3) | 302 Found [http://localhost/books]


Processing BooksController#new (for 127.0.0.1 at 2011-04-09 19:19:13) [GET]
Rendering template within layouts/application
Rendering shared/action
Rendered layouts/_navigation (0.3ms)
Rendered layouts/_flash_messages (0.1ms)
Completed in 85ms (View: 73, DB: 0) | 200 OK [http://localhost/books/new]
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;35;1mMetadatum Load (0.7ms)[0m   [0mSELECT * FROM "metadata" WHERE ("metadata".item_id = 4) [0m
  [4;36;1mMetadatum Load (0.5ms)[0m   [0;1mSELECT * FROM "metadata" WHERE ("metadata".item_id = 4) [0m
  [4;35;1mMetadataType Load (0.3ms)[0m   [0mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'author') LIMIT 1[0m
  [4;36;1mMetadataType Load (0.2ms)[0m   [0;1mSELECT * FROM "metadata_types" WHERE ("metadata_types"."name" = 'author') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mMetadataType Load (1.0ms)[0m   [0;1mSELECT * FROM "metadata_types" [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mItemCreator Load (0.6ms)[0m   [0;1mSELECT * FROM "item_creators" [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mCreatorType Load (0.3ms)[0m   [0;1mSELECT * FROM "creator_types" [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mCreatorType Load (0.3ms)[0m   [0mSELECT * FROM "creator_types" ORDER BY creator_types.id DESC LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY name DESC LIMIT 1[0m
  [4;35;1mCreator Load (0.4ms)[0m   [0mSELECT "creators".* FROM "creators" INNER JOIN "item_creators" ON "creators".id = "item_creators".creator_id WHERE (("item_creators".item_id = 4)) ORDER BY name[0m
  [4;36;1mItemCreator Load (1.0ms)[0m   [0;1mSELECT * FROM "item_creators" WHERE ("item_creators".item_id = 4) [0m
  [4;35;1mItemCreator Load (0.4ms)[0m   [0mSELECT * FROM "item_creators" WHERE ("item_creators".item_id = 4) [0m
  [4;36;1mItemCreator Load (0.4ms)[0m   [0;1mSELECT * FROM "item_creators" WHERE ("item_creators".item_id = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mCreatorType Load (0.4ms)[0m   [0;1mSELECT * FROM "creator_types" ORDER BY creator_types.id DESC LIMIT 1[0m
  [4;35;1mCreatorType Load (0.3ms)[0m   [0mSELECT * FROM "creator_types" WHERE ("creator_types"."name" = 'author') LIMIT 1[0m
  [4;36;1mItemCreator Load (0.1ms)[0m   [0;1mSELECT * FROM "item_creators" WHERE ("item_creators".item_id = 4 AND (creator_type_id = NULL)) [0m
